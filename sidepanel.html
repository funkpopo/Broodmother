<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>BroodMother 解析</title>
  <link rel="stylesheet" href="sidepanel.css">
</head>
<body class="light-theme">
  <div class="container">
    <div class="thumbnail-section">
      <div class="thumbnail-header">
        <h3 data-i18n="page_preview">页面预览</h3>
        <button id="languageToggleSide" class="language-btn" title="Switch Language">
          <span id="languageLabelSide">中</span>
        </button>
      </div>
      <div id="thumbnail-container">
        <img id="thumbnail-image" alt="Page Thumbnail">
        <div id="selection-box">
          <!-- 四角调整手柄 -->
          <div class="resize-handle handle-nw"></div>
          <div class="resize-handle handle-ne"></div>
          <div class="resize-handle handle-sw"></div>
          <div class="resize-handle handle-se"></div>
          <!-- 四边调整手柄 -->
          <div class="resize-handle handle-n"></div>
          <div class="resize-handle handle-s"></div>
          <div class="resize-handle handle-w"></div>
          <div class="resize-handle handle-e"></div>
        </div>
        <!-- 缩放控制按钮 -->
        <div class="zoom-controls">
          <button id="zoom-in" data-i18n-title="zoom_in" title="放大 (滚轮向上)">+</button>
          <span id="zoom-level">100%</span>
          <button id="zoom-out" data-i18n-title="zoom_out" title="缩小 (滚轮向下)">-</button>
          <button id="zoom-reset" data-i18n-title="zoom_reset" title="重置缩放 (Ctrl+0)">⌂</button>
        </div>
        <div id="thumbnail-overlay" class="overlay hidden">
          <div class="overlay-content">
            <p data-i18n="getting_screenshot">正在获取页面截图...</p>
          </div>
        </div>
      </div>
    </div>
    <div class="controls">
      <button id="analyze-selection" data-i18n="analyze_selection">分析选中范围</button>
      <button id="analyze-page" data-i18n="analyze_page">分析整个页面</button>
    </div>
    <div id="analysis-result-container">
      <h3 data-i18n="analysis_result">分析结果:</h3>
      <div id="analysis-result"></div>
    </div>
  </div>
  <!-- 引入语言包和国际化管理器 -->
  <script src="locales/zh.js"></script>
  <script src="locales/en.js"></script>
  <script src="js/i18n.js"></script>
  <script src="./assets/bootstrap/js/marked.min.js"></script>
  <script src="sidepanel.js"></script>
</body>
</html> 